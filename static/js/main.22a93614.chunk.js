(this["webpackJsonpreact-website-1"]=this["webpackJsonpreact-website-1"]||[]).push([[0],{40:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var n=c(3),s=c.n(n),a=c(31),i=c.n(a),r=(c(40),c(10)),l=c(16),j=c(34),o=(c(43),c(44),j.a.initializeApp({apiKey:"AIzaSyB4nCKfyqIVFyAlFXFAaGtQ2Gmrc1Bri-Y",authDomain:"blog-webapp-6cb8e.firebaseapp.com",projectId:"blog-webapp-6cb8e",storageBucket:"blog-webapp-6cb8e.appspot.com",messagingSenderId:"288223190954",appId:"1:288223190954:web:31f66e805999eb4f8ad5d3"})),b=o.auth(),u=o.firestore(),d=c(2),h=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("h1",{children:"Blog Post"}),Object(d.jsxs)("div",{className:c?"links active":"links",children:[Object(d.jsxs)("div",{className:"burger",onClick:function(){return s(!c)},children:[Object(d.jsx)("div",{className:"list"}),Object(d.jsx)("div",{className:"list"}),Object(d.jsx)("div",{className:"list"})]}),Object(d.jsx)(l.b,{to:"/blog-webpage",style:{marginBottom:25},onClick:function(){return s(!c)},children:"Home"}),Object(d.jsx)(l.b,{to:"/blog-webpage/create",onClick:function(){return s(!c)},children:"New Blog"}),Object(d.jsx)("button",{onClick:function(){b.signOut()},children:"Logout"})]})]})},O=c(26),g=c.n(O),x=c(35),f=c(33),p=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(r.a)(a,2),j=i[0],o=i[1],b=function(){var e=Object(f.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.collection("blogs").get().then((function(e){var t=e.docs.map((function(e){return Object(x.a)({id:e.id},e.data())}));s(t),o(!0)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){b()}),[]),Object(d.jsxs)("div",{className:"blog-list",children:[Object(d.jsx)("h2",{className:"title",children:"BLOGS"}),!j&&Object(d.jsx)("div",{style:{textAlign:"center",marginTop:100,fontSize:20},children:"Loading..."}),c&&c.map((function(e){return Object(d.jsx)("div",{className:"blog-preview",children:Object(d.jsxs)(l.b,{to:"/blog-webpage/blogs/".concat(e.id),children:[Object(d.jsx)("h2",{children:e.title}),Object(d.jsxs)("p",{children:["Written by ",e.author]})]})},e.id)}))]})},m=function(){return Object(d.jsx)("div",{className:"home",children:Object(d.jsx)(p,{})})},v=c(8),w=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(""),i=Object(r.a)(a,2),l=i[0],j=i[1],o=Object(n.useState)(""),b=Object(r.a)(o,2),h=b[0],O=b[1],g=Object(n.useState)(!1),x=Object(r.a)(g,2),f=x[0],p=x[1],m=Object(v.f)();return Object(d.jsxs)("div",{className:"create",children:[Object(d.jsx)("h2",{children:"Add a New Blog"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),u.collection("blogs").add({title:c,body:l,author:h}).then((function(){alert("Blog has been submitted"),p(!1),m.push("/blog-webpage")})).catch((function(e){alert(e.message)}))},children:[Object(d.jsx)("label",{children:"Title"}),Object(d.jsx)("input",{type:"text",required:!0,value:c,onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("label",{children:"Body"}),Object(d.jsx)("textarea",{required:!0,value:l,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("label",{children:"Author"}),Object(d.jsx)("input",{type:"text",required:!0,value:h,onChange:function(e){return O(e.target.value)}}),!f&&Object(d.jsx)("button",{children:"Add Blog"}),f&&Object(d.jsx)("button",{children:"Adding Blog..."})]})]})},N=function(e){var t=Object(v.g)().id,c=Object(n.useState)({}),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(!1),j=Object(r.a)(l,2),o=j[0],b=j[1],h=Object(v.f)();Object(n.useEffect)((function(){u.collection("blogs").doc(t).get().then((function(e){e.exists&&(i(e.data()),b(!0))}))}),[t]);return Object(d.jsxs)("div",{className:"blog-details",children:[!o&&Object(d.jsx)("div",{children:"Loading..."}),a&&Object(d.jsxs)("article",{children:[Object(d.jsx)("h2",{children:a.title}),Object(d.jsxs)("p",{children:["Written by ",a.author]}),Object(d.jsx)("div",{children:a.body}),Object(d.jsx)("button",{onClick:function(){u.collection("blogs").doc(t).delete().then((function(){alert("Blog succesfully deleted!"),h.push("/blog-webpage")})).catch((function(e){return alert(e.message)}))},children:"Delete"})]})]})},S=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Sorry"}),Object(d.jsx)("p",{children:"That page cannot be found"}),Object(d.jsx)(l.b,{to:"/",children:"Back to the homepage"})]})},y=c.p+"static/media/login.da144aca.svg",k=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),c=Object(n.useState)(""),s=Object(r.a)(c,2),a=s[0],i=s[1],l=Object(n.useState)(""),j=Object(r.a)(l,2),o=j[0],u=j[1],h=Object(n.useState)(!1),O=Object(r.a)(h,2),g=O[0],x=O[1],f=function(){i(""),u("")};return Object(d.jsxs)("div",{className:"signin",children:[Object(d.jsxs)("div",{className:"signin_left",children:[Object(d.jsx)("img",{src:y,alt:""}),g?Object(d.jsx)("h5",{onClick:function(){return x(!g)},children:"create an account"}):Object(d.jsxs)("h5",{onClick:function(){return x(!g)},children:[" ","i am already member"]})]}),Object(d.jsxs)("div",{className:"form",children:[g?Object(d.jsx)("h2",{children:"Log In"}):Object(d.jsx)("h2",{children:"Sign Up"}),Object(d.jsxs)("form",{action:"",className:"signin_input",children:[Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("i",{class:"far fa-user"}),Object(d.jsx)("input",{placeholder:"Email",type:"email",autoFocus:!0,required:!0,ref:e})]}),Object(d.jsx)("p",{className:"errorMsg",children:a}),Object(d.jsxs)("div",{className:"input",children:[Object(d.jsx)("i",{class:"fas fa-unlock-alt"}),Object(d.jsx)("input",{placeholder:"Password",type:"password",autoFocus:!0,required:!0,ref:t})]}),Object(d.jsx)("p",{className:"errorMsg",children:o}),Object(d.jsx)("div",{className:"btnContainer",children:g?Object(d.jsx)("button",{type:"submit",className:"button",onClick:function(c){f(),c.preventDefault(),b.signInWithEmailAndPassword(e.current.value,t.current.value).then((function(e){console.log(e)})).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":i(e.message);break;case"auth/wrong-password":u(e.message)}}))},children:"Log in"}):Object(d.jsx)("button",{type:"submit",className:"button",onClick:function(c){f(),c.preventDefault(),b.createUserWithEmailAndPassword(e.current.value,t.current.value).then((function(e){console.log(e)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":i(e.message);break;case"auth/weak-password":u(e.message)}}))},children:"Sign Up"})})]})]})]})};var C=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){b.onAuthStateChanged((function(e){e?(s(e),console.log(e)):s("")}))}),[]),Object(d.jsx)(l.a,{children:c?Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(h,{}),Object(d.jsx)("div",{className:"content",children:Object(d.jsxs)(v.c,{children:[Object(d.jsx)(v.a,{exact:!0,path:"/blog-webpage",children:Object(d.jsx)(m,{})}),Object(d.jsx)(v.a,{path:"/blog-webpage/Create",children:Object(d.jsx)(w,{})}),Object(d.jsx)(v.a,{path:"/blog-webpage/blogs/:id",children:Object(d.jsx)(N,{})}),Object(d.jsx)(v.a,{path:"*",children:Object(d.jsx)(S,{})})]})})]}):Object(d.jsx)(k,{})})},B=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),B()}},[[51,1,2]]]);
//# sourceMappingURL=main.22a93614.chunk.js.map